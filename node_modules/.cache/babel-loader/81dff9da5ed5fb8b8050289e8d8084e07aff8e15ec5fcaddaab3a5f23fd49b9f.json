{"ast":null,"code":"// src/components/LoginForm.js\nimport React,{useState}from'react';import axios from'axios';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginForm=()=>{const[loginData,setLoginData]=useState({userName:'',password:''});const[loginError,setLoginError]=useState('');const[isLoginForm,setIsLoginForm]=useState(true);// State variable for tracking form type\nconst navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setLoginData(prevState=>({...prevState,[name]:value}));};const handleSubmit=e=>{e.preventDefault();axios.post('http://localhost:8080/userData/login',loginData).then(response=>{console.log(\"Respons\",response.data);if(response.data===\"invalid credentials\"){setLoginError('Invalid email or password');}else{localStorage.setItem(\"username\",JSON.stringify(loginData.userName));navigate(\"/incident\");}}).catch(error=>{console.error('Error logging in:',error);setLoginError('Invalid email or password');alert(\"Error\");});};const toggleForm=()=>{setIsLoginForm(prevState=>!prevState);};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),loginError&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:loginError}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"userName\",name:\"userName\",value:loginData.userName,onChange:handleChange,placeholder:\"Email\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:loginData.password,onChange:handleChange,placeholder:\"Password\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Don't Have an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{color:\"white\",textDecoration:\"none\"},children:\"Sign up\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/forgetPassword\",style:{color:\"white\",textDecoration:\"none\"},children:\"Forget Password ?\"})})]})]});};export default LoginForm;","map":{"version":3,"names":["React","useState","axios","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginForm","loginData","setLoginData","userName","password","loginError","setLoginError","isLoginForm","setIsLoginForm","navigate","handleChange","e","name","value","target","prevState","handleSubmit","preventDefault","post","then","response","console","log","data","localStorage","setItem","JSON","stringify","catch","error","alert","toggleForm","className","children","onSubmit","type","onChange","placeholder","required","to","style","color","textDecoration"],"sources":["C:/Users/HarshNiranjan/Desktop/assignmentui/src/LoginForm.js"],"sourcesContent":["// src/components/LoginForm.js\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nconst LoginForm = () => {\r\n    const [loginData, setLoginData] = useState({\r\n        userName: '',\r\n        password: ''\r\n    });\r\n    const [loginError, setLoginError] = useState('');\r\n    const [isLoginForm, setIsLoginForm] = useState(true); // State variable for tracking form type\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setLoginData(prevState => ({\r\n            ...prevState,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        axios.post('http://localhost:8080/userData/login', loginData)\r\n            .then(response => {\r\n                console.log(\"Respons\",response.data);\r\n                if(response.data === \"invalid credentials\"){\r\n                    setLoginError('Invalid email or password');\r\n                }else {\r\n                    localStorage.setItem(\"username\", JSON.stringify(loginData.userName));\r\n                    navigate(\"/incident\")\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Error logging in:', error);\r\n                setLoginError('Invalid email or password');\r\n                alert(\"Error\");\r\n            });\r\n    };\r\n\r\n    const toggleForm = () => {\r\n        setIsLoginForm(prevState => !prevState);\r\n    };\r\n\r\n    return (\r\n        <div className=\"form-container\">\r\n            <h2>Login</h2>\r\n            {loginError && <p className=\"error-message\">{loginError}</p>}\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <input type=\"userName\" name=\"userName\" value={loginData.userName} onChange={handleChange} placeholder=\"Email\" required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"password\" name=\"password\" value={loginData.password} onChange={handleChange} placeholder=\"Password\" required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button type=\"submit\">Login</button>\r\n                </div>\r\n                <div>Don't Have an account ? <Link to={\"/signup\"} style={{color:\"white\", textDecoration:\"none\"}}>Sign up</Link></div>\r\n                <div ><Link to={\"/forgetPassword\"} style={{color:\"white\", textDecoration:\"none\"}} >Forget Password ?</Link></div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}